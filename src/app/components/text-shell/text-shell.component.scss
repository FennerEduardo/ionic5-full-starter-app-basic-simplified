@import "./mixins/bouncing-lines-background";

// WIP on gist: https://www.sassmeister.com/gist/fc8790761e3a6d9dc83f7326c1bc6ab4
// Inspiration for the animation: https://cloudcannon.com/deconstructions/2014/11/15/facebook-content-placeholder-deconstruction.html
:host {
  --c-line-height: 16px;
  --c-line-spacing: 3px;
  --c-bg-color: #EEE;
  --c-mask-color: transparent;
  --c-line-bg-color: transparent;

  --text-shell-background: transparent;
  --c-mask-color: var(--text-shell-background);
  --c-line-bg-color: var(--text-shell-background);

  --text-shell-line-color: #EEE;
  --c-bg-color: var(--text-shell-line-color);

  --text-shell-line-height: 16px;
  --c-line-height: var(--text-shell-line-height);

  --text-shell-line-gutter: 3px;
  --c-line-spacing: var(--text-shell-line-gutter);

  display: block;
  position: relative;
  color: transparent;
  background-color: var(--text-shell-background);
  transform-style: preserve-3d;
  // To fix 1px line misalignment in chrome: https://developer.mozilla.org/en-US/docs/Web/CSS/background-clip
  // (I also noticed that if I set the color to a solid color instead of having opacity, the issue doesn't happen)
  background-clip: content-box;

  // Default one line text-shell
  @include bouncing-lines-background(1);

  &[lines="1"] {
    @include bouncing-lines-background(1);
  }

  &[lines="2"] {
    @include bouncing-lines-background(2);
  }

  &[lines="3"] {
    @include bouncing-lines-background(3);
  }

  &[lines="4"] {
    @include bouncing-lines-background(4);
  }

  &[lines="5"] {
    @include bouncing-lines-background(5);
  }

  &[lines="6"] {
    @include bouncing-lines-background(6);
  }

  &.text-loaded {
    background: none;
    min-height: inherit;
    color: inherit;
    // 0 is the default value (see: https://stackoverflow.com/a/15963044/1116959)
    animation: 0;
  }

  &.no-animation {
    animation: 0;
  }
}
